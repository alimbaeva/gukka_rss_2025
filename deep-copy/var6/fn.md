> "–ù–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ –≤ —Ä–∞–º–∫–∞—Ö –∫—É—Ä—Å–∞ Short Track –¥–ª—è EPAM —è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∞ —Ñ—É–Ω–∫—Ü–∏—é > deepCopy. –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã –±—ã–ª–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –∫–∞–∫ Map, Set, –∞ —Ç–∞–∫–∂–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö Symbol, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Symbol.for.

> –î–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –∏ —Å—Ç—Ä–µ–ª–æ—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —è –ø—Ä–æ–≤–µ—Ä—è–ª–∞ –Ω–∞–ª–∏—á–∏–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞ —Å>  –ø–æ–º–æ—â—å—é Object.hasOwnProperty('prototype'), —Ç–∞–∫ –∫–∞–∫ —É —Å—Ç—Ä–µ–ª–æ—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –µ–≥–æ –Ω–µ—Ç. –ê—Ä–≥—É–º–µ–Ω—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ apply, —Ç–∞–∫ –∫–∞–∫ –≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî —ç—Ç–æ –º–∞—Å—Å–∏–≤.

> –¢–∞–∫–∂–µ –±—ã–ª —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–π —Ç–æ—Ç –∂–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø, —á—Ç–æ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª, > —Å –ø–æ–º–æ—â—å—é Object.setPropertyOf –∏ Object.getPropertyOf. –î–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Å–≤–æ–π—Å—Ç–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è Object.defineProperty, –∞ –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –æ–±—ä–µ–∫—Ç–∞ ‚Äî Object.prototype.toString.

> –û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –±—ã–ª–æ —É–¥–µ–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é –º–µ—Ç–æ–¥–æ–≤ get –∏ set, –µ—Å–ª–∏ –æ–Ω–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏
---

```markdown
# üìÑ –†–∞–∑–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ –≥–ª—É–±–æ–∫–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è `copy`

## üéØ –¶–µ–ª—å —Ñ—É–Ω–∫—Ü–∏–∏

–§—É–Ω–∫—Ü–∏—è `copy` —Ä–µ–∞–ª–∏–∑—É–µ—Ç **–≥–ª—É–±–æ–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ** –æ–±—ä–µ–∫—Ç–æ–≤ –≤ JavaScript, —É—á–∏—Ç—ã–≤–∞—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö, –≤–∫–ª—é—á–∞—è –ø—Ä–∏–º–∏—Ç–∏–≤—ã, –º–∞—Å—Å–∏–≤—ã, —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (`Map`, `Set`, `Date`, `Symbol`).  

---

## üîç –≠—Ç–∞–ø—ã —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏

### ‚úÖ 1. –û–±—Ä–∞–±–æ—Ç–∫–∞ `Symbol`
```js
if (typeof obj === "symbol") {
  const symbolKey = Symbol.keyFor(obj);
  return symbolKey !== undefined ? Symbol.for(symbolKey) : Symbol(obj.description);
}
```
- –ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `Symbol`:
  - –î–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ (—Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `Symbol.for`) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ—Ç –∂–µ —Å–∏–º–≤–æ–ª –ø–æ –∫–ª—é—á—É.
  - –î–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Å–∏–º–≤–æ–ª —Å —Ç–µ–º –∂–µ –æ–ø–∏—Å–∞–Ω–∏–µ–º.

---

### üìÖ 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ —Ç–∏–ø–∞ `Date`
```js
if (Object.prototype.toString.call(obj) === '[object Date]') {
  const copyDate = new Date(obj.getTime());
  const descriptors = Object.getOwnPropertyDescriptors(obj);
  Object.defineProperties(copyDate, descriptors);
  return copyDate;
}
```
- –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç `Date` —Å —Ç–µ–º –∂–µ –≤—Ä–µ–º–µ–Ω–µ–º.
- –ö–æ–ø–∏—Ä—É–µ—Ç –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.

---

### üóÇÔ∏è 3. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ `Set` –∏ `Map`
```js
if (Object.prototype.toString.call(obj) === '[object Set]') {
  const copySet = new Set;
  obj.forEach((val) => copySet.add(copy(val)));
  return copySet;
}

if (Object.prototype.toString.call(obj) === '[object Map]') {
  const copyMap = new Map;
  obj.forEach((val, key) => copyMap.set(copy(key), copy(val)));
  return copyMap;
}
```
- –î–ª—è `Set`: —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π `Set` –∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∫–æ–ø–∏—Ä—É–µ—Ç –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç.
- –î–ª—è `Map`: –∫–æ–ø–∏—Ä—É–µ—Ç –∫–ª—é—á–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ.

---

### üîß 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π
```js
if (typeof obj === 'function') {
  try {
    if (!obj.hasOwnProperty('prototype')) return obj;
    const copyFunc = function () {
      return obj.apply(this, arguments);
    };
    Object.setPrototypeOf(copyFunc, Object.getPrototypeOf(obj));
    Object.defineProperties(copyFunc, Object.getOwnPropertyDescriptors(obj));
    return copyFunc;
  } catch {
    return obj;
  }
}
```
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞ (—É —Å—Ç—Ä–µ–ª–æ—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –µ–≥–æ –Ω–µ—Ç).
- –°–æ–∑–¥–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é-–∫–æ–ø–∏—é —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.
- –ö–æ–ø–∏—Ä—É–µ—Ç –ø—Ä–æ—Ç–æ—Ç–∏–ø –∏ —Å–≤–æ–π—Å—Ç–≤–∞ –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.

---

### üìö 5. –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–∞—Å—Å–∏–≤–æ–≤
```js
if (Array.isArray(obj)) return obj.map((item) => copy(item));
```
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤, –∫–æ–ø–∏—Ä—É—è –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ.

---

### ‚ùì 6. –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ –∏ `null`
```js
if (obj == null || typeof obj !== 'object') return obj;
```
- –ü—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏ `null` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

---

### üèóÔ∏è 7. –ì–ª—É–±–æ–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
```js
const proto = Object.getPrototypeOf(obj);
const copyObject = Object.create(proto);
const keys = Object.getOwnPropertyNames(obj).concat(Object.getOwnPropertySymbols(obj));
```
- –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Å —Ç–∞–∫–∏–º –∂–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–º.
- –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–≤–æ–π—Å—Ç–≤ –∏ —Å–∏–º–≤–æ–ª–æ–≤.

---

### üîÑ 8. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤ —Å–≤–æ–π—Å—Ç–≤
```js
for (let i = 0; i < keys.length; i++) {
  const key = keys[i];
  const descriptor = Object.getOwnPropertyDescriptor(obj, key);
  if (descriptor) {
    if ('value' in descriptor) {
      descriptor.value = typeof descriptor.value === 'function'
        ? descriptor.value.bind(copyObject)
        : copy(descriptor.value);
    } else {
      if (descriptor.get) descriptor.get = descriptor.get.bind(copyObject);
      if (descriptor.set) descriptor.set = descriptor.set.bind(copyObject);
    }
  }
  Object.defineProperty(copyObject, key, descriptor);
}
```
- –ö–æ–ø–∏—Ä—É–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞ –≤–º–µ—Å—Ç–µ —Å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞–º–∏.
- –°–≤—è–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –≥–µ—Ç—Ç–µ—Ä—ã/—Å–µ—Ç—Ç–µ—Ä—ã —Å –Ω–æ–≤—ã–º –æ–±—ä–µ–∫—Ç–æ–º.

---

### ‚öôÔ∏è 9. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –∏–∑ —Ü–µ–ø–æ—á–∫–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤
```js
let protoObj = proto;
while (protoObj !== null) {
  const methods = Object.getOwnPropertyNames(protoObj).concat(Object.getOwnPropertySymbols(protoObj));
  for (let i = 0; i < methods.length; i++) {
    const method = methods[i];
    if (!Object.prototype.hasOwnProperty.call(copyObject, method)) {
      const descriptor = Object.getOwnPropertyDescriptor(protoObj, method);
      if (descriptor && "value" in descriptor && typeof descriptor.value === 'function') {
        const newMethod = descriptor.value.bind(copyObject);
        Object.defineProperty(copyObject, method, {
          value: newMethod,
          writable: true,
          configurable: true,
          enumerable: true
        });
      }
    }
  }
  protoObj = Object.getPrototypeOf(protoObj);
}
```
- –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∫–æ–ø–∏—Ä—É–µ—Ç –≤—Å–µ –º–µ—Ç–æ–¥—ã –∏–∑ —Ü–µ–ø–æ—á–∫–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤.
- –ú–µ—Ç–æ–¥—ã —Å–≤—è–∑—ã–≤–∞—é—Ç—Å—è —Å –Ω–æ–≤—ã–º –æ–±—ä–µ–∫—Ç–æ–º —á–µ—Ä–µ–∑ `bind`.

---

### üéØ 10. –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
```js
return copyObject;
```
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç.

---

## ‚úÖ –í—ã–≤–æ–¥

–§—É–Ω–∫—Ü–∏—è `copy` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Ç–æ—á–Ω—É—é –≥–ª—É–±–æ–∫—É—é –∫–æ–ø–∏—é –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤—Å–µ—Ö –µ–≥–æ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π:  
- ‚úîÔ∏è –ö–æ–ø–∏—Ä—É–µ—Ç –ø—Ä–∏–º–∏—Ç–∏–≤—ã –∏ –æ–±—ä–µ–∫—Ç—ã  
- ‚úîÔ∏è –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (`Symbol`, `Date`, `Set`, `Map`)  
- ‚úîÔ∏è –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∫–æ–ø–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∏—Ö –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã  
- ‚úîÔ∏è –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã —Å–≤–æ–π—Å—Ç–≤, –≤–∫–ª—é—á–∞—è –≥–µ—Ç—Ç–µ—Ä—ã –∏ —Å–µ—Ç—Ç–µ—Ä—ã  

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–Ω–æ–π –∫–æ–ø–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤—Å–µ—Ö –∏—Ö —Å–≤–æ–π—Å—Ç–≤ –∏ –º–µ—Ç–æ–¥–æ–≤.  
```
